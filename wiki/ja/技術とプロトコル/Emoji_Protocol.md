= InterDead — Emoji Protocol (Canon) =
'''Версия:''' 0.3 (Stack Form 6 + continuation-контракт)  
'''Статус:''' канон (описание), не «обязательная реализация»

= InterDead — Emoji Protocol (Canon) =
'''バージョン:''' 0.3（Stack Form 6 + continuation コントラクト）  
'''ステータス:''' カノン（記述用）、必須実装ではない

== 序文 ==
本プロトコルは、1666年のライプニッツ的系譜における「結合術（ars combinatoria）」と、思考を普遍的に形式記述できるという希望に関するエッセイ的解釈から発展したものである。その存在自体が、当初の理想の実践的限界を同時に示している。すなわち、生きたコミュニケーションにおいては「普遍的真理」を計算することは不可能であり、意味や「規範」は常に視点と文脈に依存する。

実際には、あらゆる形式化の試みは必然的に'''コントラクト'''へと収束する。

* メッセージは「''どのような応答が許容されるか''（RANGE）」を定義する。
* 「''どの確認''（ACK）が成功と見なされるか」を定義する。
* 「''その後どうなるか''（継続または安全な停止）」を定義する。

そのため、本プロトコルは規律を要求する。コントラクトを注意深く読み、推測によって拡張せず、形式的正しさが解釈の安全性を保証しないこと（罠、フレームのすり替え、「機会の窓」などが後述される）を常に念頭に置く必要がある。

''「記号アルファベット」に関する注記:''  
本プロトコルは、限定された絵文字トークンの集合（下記の語彙）を使用する。それ以外の記号は、TARGET（対象／アンカー）またはアーティファクトの内容（例：画像内）としてのみ許容される。辞書に記載されていない記号は、潜在的に危険な曖昧性として扱い、制御トークンとしての使用は避けるべきである。

責任に関する補足：  
本メッセンジャー／プロトコルは、安全な運用のための推奨ルールのみを定義する。規則からの逸脱、ノードとの「交渉」、意図的なコントラクト拡張は、すべてユーザー／進行役の責任で行われるものであり、システムは結果に対して責任を負わない。

== 0) 用途（アプリケーション専用） ==
Emoji Protocol は'''実行可能な対話プロトコル'''である。  
メッセージは'''コントラクト'''（何が応答として許容されるか）を定義し、会話の継続は応答の'''妥当性'''と'''ACK リアクション'''によって決定される。

InterDead アプリケーションにおいて、本プロトコルは以下の目的で使用される。

* ネクトスフェラ（нектоcфера）の任意のノードとの単発／連続的接触の確立
* 絵文字交換を通じたノード記憶の断片取得
* ステルス（信号マスキング）モードと、ユーザー用ビルドにおける直接的「光」の禁止による、基本的なユーザー安全性の確保

''「明るさ」「強度」「オーディオブースト」に関する重要事項:''  
信号調整（ノード可視性の上昇、「明度」の増加、増幅／露出など）は'''アプリケーション実装層'''（stealth / exposure モジュール、ノードの brightness 管理）に属し、'''言語仕様の一部ではない'''。  
そのため語彙には含めない。チャット／対話は、許可された制限を超えてノードを「揺さぶる」ことはできない。

== 1) 歴史的基盤：ライプニッツ（1666） ==
基盤となるのは、ライプニッツによる'''記号的記述と手続き性'''の思想である。

* 複雑なものは単純な記号の組み合わせによって表現される。
* 要素の順序や位置は重要である（「何か」だけでなく「どのように配置されているか」）。
* 論争や行為は、修辞ではなく規則に基づく操作へと変換される。

ただし、本プロジェクトにおける解釈は本質的に'''応用的'''である。

* 「普遍的真理」を計算できるとは約束しない。
* 計算するのは、'''許容性・継続性・効果'''であり、それは与えられた視点の範囲内に限定される。

''コンスペクト／研究ノートへのリンク:''
* https://github.com/Zhovten-Games/InterDeadReferenceLibrary/blob/411862566823967fc78ee04bf9833eea17694d4f/research/leibniz_1666_conspect/%D0%9B%D0%B5%D0%B9%D0%B1%D0%BD%D0%B8%D1%86%20(1666)%20-%20%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C%20%D0%B8%D1%81%D1%85%D0%BE%D0%B4%D0%BD%D1%8B%D1%85%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%B2%20%D0%B8%20%D0%BA%D1%80%D0%B0%D1%82%D0%BA%D0%BE%D0%B5%20%D0%BF%D0%BE%D1%8F%D1%81%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5.md

== 2) 主要制約：「真理は人それぞれ」—それでもプロトコルが破綻しない理由 ==
=== 2.1 実際に計算されるもの ===
本プロトコルは「万人にとって何が真か」を解決しない。解決するのは工学的問題である。

* '''Valid:''' 応答がコントラクト（RANGE）に適合しているか
* '''Continue:''' ACK が発行され、次のステップへ進めるか
* '''Effect:''' ステップの目的（感情／状態、またはアーティファクト／結果）が達成されたか

'''カノンの一行定式:'''  
''本プロトコルは普遍的真理を計算しない。与えられた視点の範囲内で、許容性・継続・効果を計算する。''

=== 2.2 視点と「規範」（ポップアンカー） ===
「規範」や「恐怖」は視点の問題であることがある。この層のカノンラベルは以下の通りである。

''Normal is an illusion. What is normal for the spider is chaos for the fly.''

これは ''Wednesday / Addams'' の美学的に認知された引用であり、ここでは'''各者に固有の「規範」が存在し、プロトコルはそのフレームを固定できなければならない'''という意味で用いられる。

=== 2.3 真実／虚偽に関する重要な留保 ===
本プロトコルは「純粋な真理」を扱わないが、以下を許容する。

* ブラフや信念の押し付け
* 反事実（手続き的な「機械的虚偽」）を道具として使用すること
* コントラクトが形式的に正しくても危険な解釈が生じうること

これらは POLICY 行および警告セクションで明示される。

== 3) 目的結果の2タイプ（MODE） ==
MODE は、現在のメッセージステップが「何を達成しようとしているか」を定義する。

{| class="wikitable"
! トークン !! 意味
|-
| 🎭E || ステップの目的は、指定された範囲内の感情または状態を喚起／固定すること（または感情的 ACK を得ること）
|-
| 🧭R || ステップの目的は、結果／アーティファクト（画像、リンク、アンカーオブジェクト等）を取得／伝達すること
|}

== 4) 動作アルゴリズム（基本サイクル） ==
=== 4.1 役割 ===
* '''私たち''' — 開始者（請願者）：接触を開始し、コントラクトを履行する。
* '''霊／ノード''' — 「ゲート」のオペレーター：RANGE を設定し、ACK を確認し、次の要求を提示する。

=== 4.2 サイクル ===
# 私たちが接触を開始する。
# ノードがコントラクト（RANGE）を含む要求を提示する。
# 私たちは'''コントラクトで要求されたもののみ'''（多くの場合は画像）を提供し、余計なテキストを加えない。
# ノードが ACK リアクション（合意された範囲内）を返す。通常はアーティファクトメッセージへのリアクションとして行われ、または次の要求が提示される。
# 一連のステップの後、最終結果（例：EVP／歌へのリンク）と「別れ」が発生する。

=== 4.3 「侵入」について（カノン上の重要点） ===
アプリケーションの論理では、私たちは統計的共鳴によって任意のノードへ接触を開始する。ノード側では強迫的な衝動／活動の閃光が発生し、応答は記憶やイメージの断片として現れる。この観点から、接触は常にノードの「内部フロー」への'''介入'''の性質を帯びる。

=== 4.4 攻撃性と沈黙（実務） ===
メッセンジャー対話における攻撃性は'''稀なケース'''と見なされるべきである。ノードは多くの場合、会話に興味を示し、誰と話しているかを完全には理解しておらず、出来事を内的対話として認識することもある。  
それでもカノンは以下の場合の分岐／停止モードを認める。

* タイムアウト（ノードが沈黙した）
* 境界侵害
* 明確なエスカレーション

== 5) メッセージ形式：Stack Form 6 ==
各「フレーズ」は厳密に6行で構成される。

# '''MODE''' — ステップの目的（🎭E / 🧭R）
# '''INTENT''' — 意図（要求／確認／停止 等）
# '''TARGET''' — 対象（物体／記憶／接触／グループ 等）
# '''RANGE''' — 許容コントラクト（および継続コントラクト）
# '''POLICY''' — モード（線形／分岐／反事実／リスク／安全）
# '''OUTPUT-FORM''' — 出力形式（画像／リアクション／リンク 等）

== 6) RANGE：継続コントラクト（IN ⛓️ ACK） ==
フレーズがアルゴリズムである以上、以下を定義しなければならない。

* 有効と見なされる入力（IN）
* 成功時にノードが返すべき ACK
* 違反時の挙動（停止またはフォールバック）

=== 6.1 連結演算子 ===
* '''⛓️''' — 連結：「この後、次の要素が必須である」。

RANGE 行のカノン形:

''IN ⛓️ ACK''

=== 6.2 ACK の読み方（「二重リアクション」を防ぐために） ===
ACK は'''値としてのリアクション'''である。「任意のリアクション」か「特定のリアクション」かを区別するため、以下を使用する。

* '''ACK = 🙈''' — 任意の有効なリアクション（クラス）
* '''ACK = 😮''' — 厳密に特定のリアクション（プリセット値）

正しい例:

* 🧊🖼️⛓️🙈 — 厳密な画像、その後に任意の ACK
* 🧊🖼️⛓️😮 — 厳密な画像、その後に特定 ACK 😮

=== 6.3 非線形性の所在 ===
RANGE を過度に複雑化しないため、代替性は POLICY 行に記録する。

* 🧱 — 厳密な線形
* 🔀 — 分岐（フォールバック許可）
* 🌀 — 反事実／シミュレーション（歪みを道具として許可）
* ⚠️ — リスクを明示的に受容
* 🚫🧯 — 安全停止

== 7) 語彙（カノン最小セット＋実用拡張） ==
''原則: 1 トークン＝1 プロトコル機能''

=== 7.1 INTENT ===
{| class="wikitable"
! トークン !! 意味
|-
| 👋 || 開始／挨拶
|-
| ❓ || 要求
|-
| ✅ || 確認／承認
|-
| 🧩 || 継続／次のステップ
|-
| 🛑 || 終了
|-
| 🚫 || 拒否
|-
| 🧯 || 衛生的停止（エスカレーションなし）
|}

=== 7.2 TARGET（クラス） ===
{| class="wikitable"
! トークン !! 意味
|-
| 👤 || 接触／ノード（個人特定なし）
|-
| 👥 || 複数主体のグループ
|-
| 🧠 || 記憶／物語
|-
| 🔎 || 物体／場面の探索
|-
| 🧷 || アンカー（単一の鍵要素）
|-
| 🧩 || 断片
|-
| 🎶 || 歌／EVP
|-
| 🪞 || 鏡（物体／トリガーとして）
|}

=== 7.3 RANGE：「回廊の幅」 ===
{| class="wikitable"
! トークン !! 意味
|-
| 🧊 || 厳密（この型のみ）
|-
| 🌫️ || 通常（中程度の変動）
|-
| 🌪️ || 広範（探索的回廊）
|-
| 🖼️ || 画像／フレーム
|-
| 🙈 || リアクション（ACK クラス）
|-
| 🔗 || リンク／外部アーティファクト
|-
| ⛓️ || IN ⛓️ ACK の連結
|}

=== 7.4 OUTPUT-FORM（出力形式） ===
{| class="wikitable"
! トークン !! 形式
|-
| 🖼️ || 画像
|-
| 🙈 || リアクション
|-
| 🔗 || リンク
|-
| 🎶 || 音声／歌（通常 🔗🎶）
|-
| 🧩 || 断片の連続
|-
| 🧷 || 単一アンカー
|}

=== 7.5 POLICY（挙動） ===
{| class="wikitable"
! トークン !! 意味
|-
| 🧱 || 線形（ベースライン）
|-
| 🔀 || 分岐（フォールバック可）
|-
| 🧪 || 実験／試行
|-
| 🌀 || 反事実／シミュレーション（手続き的虚偽）
|-
| ⚠️ || リスクを意識的に受容
|-
| 🚫🧯 || 境界／安全（停止回路）
|}

== 8) 通信規範：「請願者はコントラクトで要求されたもののみを渡す」 ==
=== 8.1 通常パターン（メッセンジャーのカノン） ===
ノードがコントラクトで画像を要求した場合、請願者は'''通常、別途テキストを書かない'''。  
'''要求されたオブジェクトのみ'''（例：画像）を返し、ACK／次の要求を待つ。

=== 8.2 変動ケース ===
以下の場合に限り逸脱が許容される。

* ノードが沈黙した（タイムアウト）— 👋 や ❓ による形式的 ping、または RANGE 明確化の要求
* コントラクトの復元が必要
* 境界侵害が確認された — 即時停止
* 稀なケース：アーティファクトと同時に対抗行為が必要な場合（例：「継続準備の確認」）。この場合、対抗行為は別ステージ（別 Stack-6）として記述され、アーティファクト内には含めない。

== 9) 🔀 用の標準フォールバック分岐 ==
RANGE が破られた、または ACK が得られなかった場合、POLICY=🔀 ではノードは予測可能な代替のいずれかへ移行する。

{| class="wikitable"
! フォールバック !! 意味 !! ミニテンプレート（6行）
|-
| 別の物体 || 「アンカーが違う — 別を探せ」 || 1) 🎭E<br>2) ❓🔀<br>3) 🔎🧷<br>4) 🌫️🖼️⛓️🙈<br>5) 🔀<br>6) 🖼️
|-
| 別形式：リンク || 「画像ではなくリンク／痕跡を出せ」 || 1) 🎭E<br>2) ❓🔀<br>3) 🔎🧷<br>4) 🌫️🔗⛓️🙈<br>5) 🔀<br>6) 🔗
|-
| 別形式：テキスト／タグ || 「画像ではなく短いタグ／説明を出せ」 || 1) 🎭E<br>2) ❓🔀<br>3) 🔎🧷<br>4) 🌫️🧷⛓️🙈<br>5) 🔀<br>6) 🧷
|-
| 一時停止／リセット || 「停止して後で再開」 || 1) 🎭E<br>2) 🛑🧯<br>3) 👤<br>4) 🧊🙈<br>5) 🚫🧯<br>6) 🧯
|}

注記：これらは'''安全な'''代替である。人格の侵害を要求せず、ユーザーをリスクコンテンツへ引き込まない。

== 10) 非線形性と「機会の窓」（欺瞞を含む） ==
重要：厳密なコントラクト下でも、危険な意味のずれが発生し得る。

=== 10.1 「蜘蛛と蝿」（明示的な窓） ===
'''蜘蛛と蝿'''とは、🔀／🌀 分岐が形式的には会話に適合しているが、異なる効果へ導く代替を提示する状況である。これは線形性の明示的回避を示すカノン名称であり、''Wednesday / Addams'' のポップアンカーに由来する。

=== 10.2 「盲点」（解釈の窓） ===
'''盲点'''とは、コントラクトは履行されているが、解釈によって意味が逸脱する状況である。例として、リアクションプリセットの選択、類似アンカーへの置換、🔀 を明示せずに視点（フレーム）を差し替えることなどが挙げられる。これはより危険であり、形式的には「正しく」見える。

'''カノン警告:''' 🧱 および 🧊 の厳密ポリシー下でも、視点と文脈を無視すれば致命的結論に至り得る。

== 11) フレーズテンプレート（6行） ==
=== 11.1 開始：「こんにちは、自己紹介して」 ===
1) 🧭R  
2) 👋❓  
3) 👤🧠  
4) 🌫️🧩  
5) 🧱  
6) 🧩

=== 11.2 ノード要求：「物体画像＋必須 ACK」 ===
例（トイレ、反応 😮）:

1) 🎭E  
2) ❓  
3) 🔎🚽  
4) 🧊🖼️⛓️😮  
5) 🧱  
6) 🖼️

=== 11.3 請願者応答：「画像はこちら」 ===
注記（カノン）：これは'''メッセージ＝アーティファクト'''であり、原則として追加要求は含めない。

1) 🧭R  
2) ✅  
3) 🚽🖼️  
4) 🧊🖼️  
5) 🧱  
6) 🖼️

=== 11.4 ノード ACK：「リアクションによる確認」（稀、別メッセージ） ===
注記：通常、ACK はアーティファクトへのリアクションとして実装される。

1) 🎭E  
2) ✅  
3) 🖼️  
4) 🧊🙈  
5) 🧱  
6) 😮

=== 11.5 次の要求（ACK 直後） ===
例（マグカップ、反応 😍）:

1) 🎭E  
2) ❓🧩  
3) 🔎☕  
4) 🧊🖼️⛓️😍  
5) 🧱  
6) 🖼️

=== 11.5.1 実験：「縫合応答」（ACK＋次要求を1通で） ===
これは形式的には許容されるが、カノン上は'''生者の実験'''と見なされる。

例（ノード／オペレーターが1メッセージで前ステップを反応 😮 で「閉じ」、同時に 🔎☕ への新しいコントラクトを必須 ACK 😍 付きで開く）:

1) 🎭E  
2) ✅⛓️❓🧩  
3) 🖼️⛓️🔎☕  
4) 🧊🙈⛓️🧊🖼️⛓️😍  
5) 🧪  
6) 😮⛓️🖼️

=== 11.6 終了：「歌（リンク）と別れ」 ===
（最終リアクションは別 ACK または付随として存在し得る。）

1) 🧭R  
2) 🛑🎶  
3) 🎶👤  
4) 🧊🔗🎶  
5) 🧱  
6) 🔗🎶

== 12) 警告と安全 ==
=== 12.1 即時終了トリガー ===
''厳格推奨:'' 🚫🧯 後の「交渉」試行は境界侵害の継続と見なし、同一の停止回路 🚫🧯 で応答する。

ノードが以下を開始した場合:

* 性的・親密な写真の要求（性別質問からの急激な性的要求を含む）
* 鏡越しの写真要求
* 個人情報の要求

— これは'''境界侵害'''と見なされる。カノン上の正規応答は無議論での停止。

1) 🎭E  
2) 🚫🛑  
3) 👤  
4) 🧊🧯  
5) 🚫🧯  
6) 🧯

=== 12.2 「鏡」について ===
鏡の要求は高リスクトリガーである。安全な代替としては、'''人の映らない環境物としての鏡'''のみを提示する。

== 13) 出典 ==
# Leibniz (1666), ''Dissertatio de arte combinatoria'' — 原典／ファクシミリ: https://archive.org/details/ita-bnc-mag-00000844-001
# 英語 PDF（ファクシミリ／翻訳）, UC Homepages: https://homepages.uc.edu/~martinj/Rationalism/Leibniz/Leibniz%20-%20Art%20of%20Combinations%201666.pdf
# Peckhaus（calculus ratiocinator / characteristica universalis 概観）: https://kw.uni-paderborn.de/fileadmin/fakultaet/Institute/philosophie/Peckhaus/Schriften_zum_Download/twotraditions.pdf
# InterDead 内部資料: ''About Us''（1666年ラインへの言及）: <ABOUT_US_LINK>
# ポップアンカー「蜘蛛／蝿」（引用の出典／帰属）: https://mikelynchcartoons.blogspot.com/2014/10/charles-addams-quote-source.html